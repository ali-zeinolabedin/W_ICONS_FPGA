%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Descripton:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{0}



\title{FPGA Prototype of W\_ICONS Chip}
\date{Apr 05, 2024}
\release{v0.1.1}
\author{Ali Zeinolabedin}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{FPGA Prototype}
\label{\detokenize{fpga_prototype:fpga-prototype}}\label{\detokenize{fpga_prototype::doc}}
\sphinxAtStartPar
It prototypes the W\_ICONs chip with the following changes and limitations:
\sphinxhyphen{} Register file size is greatly reduced to integrate only 4 stimulation channelsâ€™ parameters.
\sphinxhyphen{} Analog macro is replaced with a synthesized analog macro to:
\sphinxhyphen{} Imitates the recording behavior for all 64 channels

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYGZhy{} each channel generates distinct constant values that can be easily recognizable.
  \PYGZhy{} Recording
    \PYGZhy{} `Ch0\PYGZti{}31:    value= 18\PYGZsq{}h0720+ 2\PYGZsq{}b10 * idx; idx=0..31`
    \PYGZhy{} `Ch31\PYGZti{}64:   value= 18\PYGZsq{}h0920+ 2\PYGZsq{}b10 * idx; idx=0..31`

  \PYGZhy{} Recording during the stimulation
    \PYGZhy{} `Ch0\PYGZti{}3:     value= 18\PYGZsq{}h0320+ 2\PYGZsq{}b10 * idx; idx= 0..3`
    \PYGZhy{} `Ch31\PYGZti{}64:   Not available;` 
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
No stimulation output can be observed but the logic for 4 channels is included.

\item {} 
\sphinxAtStartPar
Author
\begin{itemize}
\item {} 
\sphinxAtStartPar
Created by Ali Zeinolabedin on 02/09/2024.

\item {} 
\sphinxAtStartPar
Latest Update: 03/28/2024 by Ali Zeinolabedin

\end{itemize}

\end{itemize}


\section{FPGA Architecture}
\label{\detokenize{fpga_prototype:fpga-architecture}}\begin{itemize}
\item {} 
\sphinxAtStartPar
FPGA board: Arty A7 \sphinxhref{https://digilent.com/reference/programmable-logic/arty-a7/start}{link}

\item {} 
\sphinxAtStartPar
Bit file is {[}here{]}/Cadence/w\_icons/units/w\_icons\_top/fpga/vivado/export).

\item {} 
\sphinxAtStartPar
Pin details:

\end{itemize}

\sphinxAtStartPar
\sphinxincludegraphics{{FPGA_PT}.png}


\section{FPGA Prototype test}
\label{\detokenize{fpga_prototype:fpga-prototype-test}}\begin{itemize}
\item {} 
\sphinxAtStartPar
The FPGA prototype is verified using the SPI cable (C232HM\sphinxhyphen{}DDHSL\sphinxhyphen{}0).

\item {} 
\sphinxAtStartPar
A Python library is developed for testing W\_ICONs chip. \sphinxhref{https://github.com/BlackrockNeurotech/ASIC-W-ICONS/blob/main/docs/python\_library\_spi\_cable.md}{Here} are the details.

\end{itemize}


\section{Real measurement using FPGA prototype}
\label{\detokenize{fpga_prototype:real-measurement-using-fpga-prototype}}

\subsection{Reading Chip ID}
\label{\detokenize{fpga_prototype:reading-chip-id}}
\sphinxAtStartPar
\sphinxincludegraphics{{Chip_ID_RD}.png}


\subsection{Write Data/Address}
\label{\detokenize{fpga_prototype:write-data-address}}
\sphinxAtStartPar
Write 0x12345678 to address 0xc and read it back


\subsubsection{Write data (0x12345678)}
\label{\detokenize{fpga_prototype:write-data-0x12345678}}
\sphinxAtStartPar
\sphinxincludegraphics{{write-data_12345678}.png}


\subsubsection{Write address (0xc):}
\label{\detokenize{fpga_prototype:write-address-0xc}}
\sphinxAtStartPar
\sphinxincludegraphics{{write_add_0xc}.png}


\subsection{Read Data}
\label{\detokenize{fpga_prototype:read-data}}

\subsubsection{Read address (0xc):}
\label{\detokenize{fpga_prototype:read-address-0xc}}
\sphinxAtStartPar
\sphinxincludegraphics{{read_address_0xc}.png}


\subsubsection{Read Data (0x12345678):}
\label{\detokenize{fpga_prototype:read-data-0x12345678}}
\sphinxAtStartPar
\sphinxincludegraphics{{read_data-12345678}.png}


\subsection{ADC Recording:}
\label{\detokenize{fpga_prototype:adc-recording}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Enable Ch0, Ch1, and Ch32

\item {} 
\sphinxAtStartPar
Enable Recording

\end{itemize}

\sphinxAtStartPar
\sphinxincludegraphics{{read_Ch0_Ch1_Ch33}.png}


\subsection{Recording during the simulation}
\label{\detokenize{fpga_prototype:recording-during-the-simulation}}
\sphinxAtStartPar
\sphinxincludegraphics{{read_ch0_ch1_stimulation}.png}



\renewcommand{\indexname}{Index}
\printindex
\end{document}